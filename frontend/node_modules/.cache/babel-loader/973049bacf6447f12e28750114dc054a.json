{"ast":null,"code":"import _slicedToArray from\"/home/mnasfi/Study/STOCK/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from\"react\";import{Routes,Route,BrowserRouter}from\"react-router-dom\";import{Disclosure,Menu,Transition}from\"@headlessui/react\";import{BellIcon,MenuIcon,XIcon}from\"@heroicons/react/outline\";import AuthService from\"../services/auth.service\";import Login from\"./Login\";import Register from\"./Register\";import Home from\"./Home\";import Profile from\"./Profile\";import BoardUser from\"./BoardUser\";import BoardModerator from\"./BoardModerator\";import BoardAdmin from\"./BoardAdmin\";import PreviewProfile from\"./PreviewProfile\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModeratorBoard=_useState2[0],setShowModeratorBoard=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAdminBoard=_useState4[0],setShowAdminBoard=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),currentUser=_useState6[0],setCurrentUser=_useState6[1];var user=AuthService.getCurrentUser();useEffect(function(){var user=AuthService.getCurrentUser();if(user){setCurrentUser(user);setShowModeratorBoard(user.roles.includes(\"ROLE_MODERATOR\"));setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));}},[]);var logOut=function logOut(){AuthService.logout();};return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Disclosure,{as:\"nav\",className:\"bg-gray-800\",children:function children(_ref){var open=_ref.open;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 flex items-center sm:hidden\",children:/*#__PURE__*/_jsxs(Disclosure.Button,{className:\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Open main menu\"}),open?/*#__PURE__*/_jsx(XIcon,{className:\"block h-6 w-6\",\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(MenuIcon,{className:\"block h-6 w-6\",\"aria-hidden\":\"true\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"block lg:hidden h-8 w-auto\",src:\"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg\",alt:\"Workflow\"}),/*#__PURE__*/_jsx(\"img\",{className:\"hidden lg:block h-8 w-auto\",src:\"https://tailwindui.com/img/logos/workflow-logo-indigo-500-mark-white-text.svg\",alt:\"Workflow\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden sm:block sm:ml-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium\",\"aria-current\":\"page\",children:\"Home\"}),showModeratorBoard&&/*#__PURE__*/_jsx(\"a\",{href:\"/mod\",className:\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\",children:\"Moderator Board\"}),showAdminBoard&&/*#__PURE__*/_jsx(\"a\",{href:\"/admin\",className:\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\",children:\"Admin Board\"}),currentUser&&/*#__PURE__*/_jsx(\"a\",{href:\"/user\",className:\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\",children:\"User Board\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"bg-gray-800 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"View notifications\"}),/*#__PURE__*/_jsx(BellIcon,{className:\"h-6 w-6\",\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsx(Menu,{as:\"div\",className:\"ml-3 relative\",children:function children(_ref2){var open=_ref2.open;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[currentUser&&/*#__PURE__*/_jsxs(Menu.Button,{className:\"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Open user menu\"}),/*#__PURE__*/_jsx(\"img\",{className:\"h-8 w-8 rounded-full\",src:\"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\",alt:\"\"})]}),!currentUser&&/*#__PURE__*/_jsxs(Menu.Button,{className:\"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Open menu\"}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"grey\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"})})]})]}),/*#__PURE__*/_jsx(Transition,{show:open,as:Fragment,enter:\"transition ease-out duration-100\",enterFrom:\"transform opacity-0 scale-95\",enterTo:\"transform opacity-100 scale-100\",leave:\"transition ease-in duration-75\",leaveFrom:\"transform opacity-100 scale-100\",leaveTo:\"transform opacity-0 scale-95\",children:/*#__PURE__*/_jsxs(Menu.Items,{static:true,className:\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\",children:[\"(\",currentUser&&/*#__PURE__*/_jsx(Menu.Item,{children:function children(_ref3){var active=_ref3.active;return/*#__PURE__*/_jsx(\"a\",{href:\"/profile/user/\".concat(user.id),className:\"block px-4 py-2 text-sm text-gray-700\",children:currentUser.username});}}),currentUser&&/*#__PURE__*/_jsx(Menu.Item,{children:function children(_ref4){var active=_ref4.active;return/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"block px-4 py-2 text-sm text-gray-700\",children:\"Settings\"});}}),currentUser&&/*#__PURE__*/_jsx(Menu.Item,{children:function children(_ref5){var active=_ref5.active;return/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"block px-4 py-2 text-sm text-gray-700\",onClick:logOut,children:\"Sign out\"});}}),!currentUser&&/*#__PURE__*/_jsx(Menu.Item,{children:function children(_ref6){var active=_ref6.active;return/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"block px-4 py-2 text-sm text-gray-700\",children:\"Login\"});}}),!currentUser&&/*#__PURE__*/_jsx(Menu.Item,{children:function children(_ref7){var active=_ref7.active;return/*#__PURE__*/_jsx(\"a\",{href:\"/register\",className:\"block px-4 py-2 text-sm text-gray-700\",children:\"Sign Up\"});}})]})})]});}})]})]})}),/*#__PURE__*/_jsx(Disclosure.Panel,{className:\"sm:hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-2 pt-2 pb-3 space-y-1\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium\",\"aria-current\":\"page\",children:\"DimaFit\"}),showModeratorBoard&&/*#__PURE__*/_jsx(\"a\",{href:\"/mod\",className:\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\",children:\"Moderator Board\"}),showAdminBoard&&/*#__PURE__*/_jsx(\"a\",{href:\"/admin\",className:\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\",children:\"Admin Board\"}),currentUser&&/*#__PURE__*/_jsx(\"a\",{href:\"/user\",className:\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\",children:\"User Board\"})]})})]});}}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-3\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),user&&/*#__PURE__*/_jsx(Route,{path:\"/profile/:id\",element:/*#__PURE__*/_jsx(Profile,{userId:user.id})}),user&&/*#__PURE__*/_jsx(Route,{path:\"/profile/user/:id\",element:/*#__PURE__*/_jsx(PreviewProfile,{userId:user.id})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(BoardUser,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mod\",element:/*#__PURE__*/_jsx(BoardModerator,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(BoardAdmin,{})})]})})]});};export default App;","map":{"version":3,"sources":["/home/mnasfi/Study/STOCK/frontend/src/components/App.jsx"],"names":["React","useState","useEffect","Fragment","Routes","Route","BrowserRouter","Disclosure","Menu","Transition","BellIcon","MenuIcon","XIcon","AuthService","Login","Register","Home","Profile","BoardUser","BoardModerator","BoardAdmin","PreviewProfile","App","showModeratorBoard","setShowModeratorBoard","showAdminBoard","setShowAdminBoard","undefined","currentUser","setCurrentUser","user","getCurrentUser","roles","includes","logOut","logout","open","active","id","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\nimport { Routes, Route, BrowserRouter } from \"react-router-dom\";\nimport { Disclosure, Menu, Transition } from \"@headlessui/react\";\nimport { BellIcon, MenuIcon, XIcon } from \"@heroicons/react/outline\";\n\nimport AuthService from \"../services/auth.service\";\n\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Home from \"./Home\";\nimport Profile from \"./Profile\";\nimport BoardUser from \"./BoardUser\";\nimport BoardModerator from \"./BoardModerator\";\nimport BoardAdmin from \"./BoardAdmin\";\nimport PreviewProfile from \"./PreviewProfile\";\n\nconst App = () => {\n  const [showModeratorBoard, setShowModeratorBoard] = useState(false);\n  const [showAdminBoard, setShowAdminBoard] = useState(false);\n  const [currentUser, setCurrentUser] = useState(undefined);\n  const user = AuthService.getCurrentUser();\n\n  useEffect(() => {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      setCurrentUser(user);\n      setShowModeratorBoard(user.roles.includes(\"ROLE_MODERATOR\"));\n      setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));\n    }\n  }, []);\n\n  const logOut = () => {\n    AuthService.logout();\n  };\n\n  return (\n    <BrowserRouter>\n      <Disclosure as=\"nav\" className=\"bg-gray-800\">\n        {({ open }) => (\n          <>\n            <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8\">\n              <div className=\"relative flex items-center justify-between h-16\">\n                <div className=\"absolute inset-y-0 left-0 flex items-center sm:hidden\">\n                  {/* Mobile menu button*/}\n                  <Disclosure.Button className=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white\">\n                    <span className=\"sr-only\">Open main menu</span>\n                    {open ? (\n                      <XIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\n                    ) : (\n                      <MenuIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\n                    )}\n                  </Disclosure.Button>\n                </div>\n                <div className=\"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start\">\n                  <div className=\"flex-shrink-0 flex items-center\">\n                    <img\n                      className=\"block lg:hidden h-8 w-auto\"\n                      src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg\"\n                      alt=\"Workflow\"\n                    />\n                    <img\n                      className=\"hidden lg:block h-8 w-auto\"\n                      src=\"https://tailwindui.com/img/logos/workflow-logo-indigo-500-mark-white-text.svg\"\n                      alt=\"Workflow\"\n                    />\n                  </div>\n                  <div className=\"hidden sm:block sm:ml-6\">\n                    <div className=\"flex space-x-4\">\n                      <a\n                        href=\"/\"\n                        className=\"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium\"\n                        aria-current=\"page\"\n                      >\n                        Home\n                      </a>\n                      {showModeratorBoard && (\n                        <a\n                          href=\"/mod\"\n                          className=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\n                        >\n                          Moderator Board\n                        </a>\n                      )}\n                      {showAdminBoard && (\n                        <a\n                          href=\"/admin\"\n                          className=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\n                        >\n                          Admin Board\n                        </a>\n                      )}\n                      {currentUser && (\n                        <a\n                          href=\"/user\"\n                          className=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\n                        >\n                          User Board\n                        </a>\n                      )}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0\">\n                  <button className=\"bg-gray-800 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\n                    <span className=\"sr-only\">View notifications</span>\n                    <BellIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                  </button>\n\n                  {/* Profile dropdown */}\n                  <Menu as=\"div\" className=\"ml-3 relative\">\n                    {({ open }) => (\n                      <>\n                        <div>\n                          {currentUser && (\n                            <Menu.Button className=\"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\n                              <span className=\"sr-only\">Open user menu</span>\n                              <img\n                                className=\"h-8 w-8 rounded-full\"\n                                src=\"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\"\n                                alt=\"\"\n                              />\n                            </Menu.Button>\n                          )}\n                          {!currentUser && (\n                            <Menu.Button className=\"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\n                              <span className=\"sr-only\">Open menu</span>\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-6 w-6\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"grey\"\n                              >\n                                <path\n                                  strokeLinecap=\"round\"\n                                  strokeLinejoin=\"round\"\n                                  strokeWidth={2}\n                                  d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"\n                                />\n                              </svg>\n                            </Menu.Button>\n                          )}\n                        </div>\n                        <Transition\n                          show={open}\n                          as={Fragment}\n                          enter=\"transition ease-out duration-100\"\n                          enterFrom=\"transform opacity-0 scale-95\"\n                          enterTo=\"transform opacity-100 scale-100\"\n                          leave=\"transition ease-in duration-75\"\n                          leaveFrom=\"transform opacity-100 scale-100\"\n                          leaveTo=\"transform opacity-0 scale-95\"\n                        >\n                          <Menu.Items\n                            static\n                            className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\"\n                          >\n                            (\n                            {currentUser && (\n                              <Menu.Item>\n                                {({ active }) => (\n                                  <a\n                                    href={`/profile/user/${user.id}`}\n                                    className=\"block px-4 py-2 text-sm text-gray-700\"\n                                  >\n                                    {currentUser.username}\n                                  </a>\n                                )}\n                              </Menu.Item>\n                            )}\n                            {currentUser && (\n                              <Menu.Item>\n                                {({ active }) => (\n                                  <a\n                                    href=\"/\"\n                                    className=\"block px-4 py-2 text-sm text-gray-700\"\n                                  >\n                                    Settings\n                                  </a>\n                                )}\n                              </Menu.Item>\n                            )}\n                            {currentUser && (\n                              <Menu.Item>\n                                {({ active }) => (\n                                  <a\n                                    href=\"/login\"\n                                    className=\"block px-4 py-2 text-sm text-gray-700\"\n                                    onClick={logOut}\n                                  >\n                                    Sign out\n                                  </a>\n                                )}\n                              </Menu.Item>\n                            )}\n                            {!currentUser && (\n                              <Menu.Item>\n                                {({ active }) => (\n                                  <a\n                                    href=\"/login\"\n                                    className=\"block px-4 py-2 text-sm text-gray-700\"\n                                  >\n                                    Login\n                                  </a>\n                                )}\n                              </Menu.Item>\n                            )}\n                            {!currentUser && (\n                              <Menu.Item>\n                                {({ active }) => (\n                                  <a\n                                    href=\"/register\"\n                                    className=\"block px-4 py-2 text-sm text-gray-700\"\n                                  >\n                                    Sign Up\n                                  </a>\n                                )}\n                              </Menu.Item>\n                            )}\n                          </Menu.Items>\n                        </Transition>\n                      </>\n                    )}\n                  </Menu>\n                </div>\n              </div>\n            </div>\n\n            <Disclosure.Panel className=\"sm:hidden\">\n              <div className=\"px-2 pt-2 pb-3 space-y-1\">\n                <a\n                  href=\"/\"\n                  className=\"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium\"\n                  aria-current=\"page\"\n                >\n                  DimaFit\n                </a>\n                {showModeratorBoard && (\n                  <a\n                    href=\"/mod\"\n                    className=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\n                  >\n                    Moderator Board\n                  </a>\n                )}\n                {showAdminBoard && (\n                  <a\n                    href=\"/admin\"\n                    className=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\n                  >\n                    Admin Board\n                  </a>\n                )}\n                {currentUser && (\n                  <a\n                    href=\"/user\"\n                    className=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\n                  >\n                    User Board\n                  </a>\n                )}\n              </div>\n            </Disclosure.Panel>\n          </>\n        )}\n      </Disclosure>\n\n      <div className=\"container mt-3\">\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n\n          {user && (\n            <Route path=\"/profile/:id\" element={<Profile userId={user.id} />} />\n          )}\n\n          {user && (\n            <Route\n              path=\"/profile/user/:id\"\n              element={<PreviewProfile userId={user.id} />}\n            />\n          )}\n\n          <Route path=\"/user\" element={<BoardUser />} />\n          <Route path=\"/mod\" element={<BoardModerator />} />\n          <Route path=\"/admin\" element={<BoardAdmin />} />\n        </Routes>\n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}